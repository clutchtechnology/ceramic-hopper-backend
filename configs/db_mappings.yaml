# ============================================================
# DB块映射配置文件
# ============================================================
# 用于配置 PLC 中各个 DB 块的映射关系
# 修改此文件后无需修改 Python 代码，重启服务即可生效
# ============================================================

# ============================================================
# 轮询配置
# ============================================================
polling_config:
  poll_interval: 7  # 轮询间隔 (秒)
  batch_write_size: 20  # 批量写入间隔 (次数) - 避免缓冲区溢出

# ============================================================
# 设备状态位配置 - 用于检测各设备模块通信状态
# ============================================================
# 后端只负责读取原始字节数据并缓存，前端负责解析
# ============================================================
device_status_config:
  enabled: true
  poll_with_data: true  # 与数据轮询同步读取
  db_blocks: []

# ============================================================
# 数据块映射
# ============================================================
db_mappings:
  # DB4 - 料仓传感器数据 (PM10/温度/电表/振动)
  - db_number: 4
    db_name: "DB4_HopperSensors"
    total_size: 176
    config_file: "configs/config_hopper_4.yaml"
    parser_class: "HopperSensorParser"
    enabled: true
    description: "料仓传感器数据（PM10/温度/电表/振动）"
