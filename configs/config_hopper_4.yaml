# ============================================================
# 料仓数据块配置文件 (DB4)
# ============================================================
# 基于 TIA Portal DB4 数据块结构
# 数据类型: PM10传感器 + 温度传感器 + 电表 + 振动传感器
# ============================================================

db_number: 4
description: "料仓传感器数据块 (PM10/温度/电表)"
total_size: 60  # 根据PLC实际DB4大小 (0-59, 振动数据已迁移到DB6)

# ============================================================
# 单料仓传感器模块配置
# ============================================================
# 注意: 振动传感器数据已迁移到 DB6 (config_hopper_vib_db6.yaml)
# ============================================================
modules:
  # ------------------------------------------------------------
  # 1. PM10粉尘浓度 (Offset 0-1)
  # ------------------------------------------------------------
  - module_type: pm10
    base_module: PM10Sensor
    offset: 0
    size: 2
    description: "PM10 粉尘浓度"

  # ------------------------------------------------------------
  # 2. 温度 (Offset 2-3)
  # ------------------------------------------------------------
  - module_type: temperature
    base_module: TemperatureSensor
    offset: 2
    size: 2
    description: "料仓温度"

  # ------------------------------------------------------------
  # 3. 电表 (Offset 4-59)
  # ------------------------------------------------------------
  - module_type: electricity
    base_module: ElectricityMeter
    offset: 4
    size: 56
    description: "三相电表数据"
