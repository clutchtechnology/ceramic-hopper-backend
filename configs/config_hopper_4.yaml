# ============================================================
# 料仓数据块配置文件 (DB4)
# ============================================================
# 基于 TIA Portal DB4 数据块结构
# 数据类型: PM10传感器 + 温度传感器 + 电表 + 振动传感器
# ============================================================

db_number: 4
description: "料仓传感器数据块 (PM10/温度/电表/振动)"
total_size: 144  # 根据PLC实际DB4大小 (0-143)

# ============================================================
# 单料仓传感器模块配置
# ============================================================
modules:
  # ------------------------------------------------------------
  # 1. PM10粉尘浓度 (Offset 0-1)
  # ------------------------------------------------------------
  - module_type: pm10
    base_module: PM10Sensor
    offset: 0
    size: 2
    description: "PM10 粉尘浓度"

  # ------------------------------------------------------------
  # 2. 温度 (Offset 2-3)
  # ------------------------------------------------------------
  - module_type: temperature
    base_module: TemperatureSensor
    offset: 2
    size: 2
    description: "料仓温度"

  # ------------------------------------------------------------
  # 3. 电表 (Offset 4-59)
  # ------------------------------------------------------------
  - module_type: electricity
    base_module: ElectricityMeter
    offset: 4
    size: 56
    description: "三相电表数据"

  # ------------------------------------------------------------
  # 4. 振动传感器精简版 (Offset 60-143)
  # ------------------------------------------------------------
  # 只保留 PLC 工程师标注的字段：
  # - 位移幅值: DX/DY/DZ
  # - 频率: HZX/HZY/HZZ
  # - 加速度峰值: KX/AAVGY/AAVGZ
  # - 速度RMS: VRMSX/VRMSY/VRMGZ
  - module_type: vibration
    base_module: VibrationSelected
    offset: 60
    size: 84
    description: "振动传感器核心指标（PLC工程师标注字段）"
