# ============================================================
# 料仓数据块配置文件 (DB4)
# ============================================================
# 基于 TIA Portal DB4 数据块结构
# 数据类型: PM10传感器 + 温度传感器 + 电表 + 振动传感器
# ============================================================

db_number: 4
description: "料仓传感器数据块 (PM10/温度/电表/振动)"
total_size: 176  # 根据PLC实际DB4大小 (0-175)

# ============================================================
# 单料仓传感器模块配置
# ============================================================
modules:
  # ------------------------------------------------------------
  # 1. PM10粉尘浓度 (Offset 0-1)
  # ------------------------------------------------------------
  - module_type: pm10
    base_module: PM10Sensor
    offset: 0
    size: 2
    description: "PM10 粉尘浓度"

  # ------------------------------------------------------------
  # 2. 温度 (Offset 2-3)
  # ------------------------------------------------------------
  - module_type: temperature
    base_module: TemperatureSensor
    offset: 2
    size: 2
    description: "料仓温度"

  # ------------------------------------------------------------
  # 3. 电表 (Offset 4-59)
  # ------------------------------------------------------------
  - module_type: electricity
    base_module: ElectricityMeter
    offset: 4
    size: 56
    description: "三相电表数据"

  # ------------------------------------------------------------
  # 4. 振动 (Offset 60-175)
  # ------------------------------------------------------------
  # 4.1 加速度 (Offset 60-65)
  - module_type: vibration_acceleration
    base_module: VibrationAcceleration
    offset: 60
    size: 6
    description: "三轴加速度"

  # 4.2 振动速度 (Offset 72-77)
  - module_type: vibration_velocity
    base_module: VibrationVelocity
    offset: 72
    size: 6
    description: "三轴振动速度"

  # 4.3 X_DATA 结构 (Offset 98-119)
  - module_type: vibration_x_data
    base_module: XData
    offset: 98
    size: 22
    description: "X轴数据结构"

  # 4.4 Y_DATA 结构 (Offset 120-141)
  - module_type: vibration_y_data
    base_module: YData
    offset: 120
    size: 22
    description: "Y轴数据结构"

  # 4.5 Z_DATA 结构 (Offset 142-163)
  - module_type: vibration_z_data
    base_module: ZData
    offset: 142
    size: 22
    description: "Z轴数据结构"

  # 4.6 ERR 结构 (Offset 164-175)
  - module_type: vibration_error
    base_module: ErrorData
    offset: 164
    size: 12
    description: "错误状态数据"
